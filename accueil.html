<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>f-Rest Surrey</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,600&display=swap');

    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #000;
      color: #fff;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      padding-top: 120px; /* espace pour header fixe */
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      background-color: white;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      color: #FF8C00;
      font-style: italic;
      font-weight: bold;
      font-size: 40px;
      text-shadow: 3px 3px 8px #333;
      user-select: none;
    }

    #title { position: relative; z-index: 20; }

    #bird {
      position: absolute;
      top: 10px;
      left: -100px;
      width: 80px;
      opacity: 0.9;
      user-select: none;
      z-index: 15;
    }

    nav {
      display: flex;
      justify-content: space-evenly;
      background: #000;
      padding: 40px 0;
      gap: 80px;
      font-style: italic;
      font-weight: bold;
      font-size: 15px;
      color: #FF8C00;
      user-select: none;
    }

    nav a {
      text-decoration: none;
      color: #FF8C00;
      padding: 10px 20px;
      border-radius: 10px;
      background-color: transparent;
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease;
      border: 2px solid #FF8C00;
    }

    nav a:hover {
      background-color: #FF8C00;
      color: #000;
      transform: scale(1.15);
      box-shadow: 0 6px 15px rgba(255, 140, 0, 0.7);
    }

    #restauration-text {
      margin: 60px auto;
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      font-style: italic;
      color: white;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.6);
      user-select: none;
      height: 45px;
      opacity: 0;
      animation: appearDisappear 6s infinite;
    }

    @keyframes appearDisappear {
      0%, 100% { opacity: 0; }
      25%, 75% { opacity: 1; }
      50% { opacity: 0; }
    }

    .chef-logo { display: flex; justify-content: center; margin: 60px 0 40px 0; }

    .chef-logo { position: relative; overflow: hidden; perspective: 1000px; margin: 50px auto; }
    .chef-logo img { width: 970px; height: 390px; transition: transform 0.4s ease; animation: zoomInOut 4s infinite alternate; border-radius: 8px; }
    @keyframes zoomInOut { 0%{transform:scale(1);} 50%{transform:scale(1.2);} 100%{transform:scale(1);} }
    .chef-logo img:hover { transform: scale(1.1); }

    .gallery { padding: 60px 20px; text-align: center; position: relative; z-index: 10; }
    .gallery h2 { color: #FF8C00; margin-bottom: 50px; font-size: 30px; font-style: italic; }
    .gallery-logos { display:flex; justify-content:center; flex-wrap:wrap; gap:60px; }
    .gallery-logos img { width:100px; height:auto; transition: transform 0.4s ease; }
    .gallery-logos img:hover { transform: scale(1.2); }

    /* Form */
    .form-section {
      background-color: #fff5f8;
      padding: 30px 50px;
      width: 80%;
      max-width: 1400px;
      margin: 80px auto 120px auto;
      border-radius: 15px;
      box-shadow: 0 6px 25px rgba(255, 140, 0, 0.3);
      font-style: italic;
      user-select: none;
      color: #000;
    }

    .form-section h2 {
      text-align: center;
      color: #FF8C00;
      margin-bottom: 35px;
      font-weight: bold;
      font-size: 30px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px 50px;
    }

    .form-group { display:flex; flex-direction:column; }
    .form-section label { margin-bottom:8px; color:#333; font-weight:600; font-size:16px; }
    .form-section input, .form-section select, .form-section textarea {
      width:100%; padding:12px; border-radius:12px; border: 2px solid #ffccf2; font-size:17px;
    }

    .form-submit { grid-column: span 2; text-align:center; margin-top:30px; }
    .form-section input[type="submit"] {
      background-color: #FF8C00; color: white; border: none; border-radius: 15px; padding: 15px 45px;
      font-weight: bold; font-size:20px; cursor: pointer; transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .form-section input[type="submit"]:hover { background-color: #e67300; transform: scale(1.05); }

    @media (max-width: 750px) {
      .form-grid { grid-template-columns: 1fr; }
      .form-submit { grid-column: span 1; }
    }

    /* Confirmation modal (style discret et cohérent) */
    .confirm-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 3000;
    }
    .confirm-box {
      background: #fff;
      color: #111;
      border-radius: 14px;
      padding: 26px;
      width: 90%;
      max-width: 480px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      font-family: 'Montserrat', sans-serif;
    }
    .confirm-box h3 { color: #FF8C00; margin: 0 0 10px 0; font-size: 22px; }
    .confirm-box p { margin: 0; line-height: 1.4; color: #222; }
    .confirm-close {
      margin-top: 16px;
      background: #FF8C00;
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
    }
    .confirm-close:hover { background: #e67300; }

  </style>
</head>
<body>
  <header>
    <h1 id="title">f-Rest Surrey</h1>
    <img id="bird" src="https://png.pngtree.com/png-vector/20250217/ourmid/pngtree-unique-food-logo-png-image_15488394.png" alt="Oiseau volant" />
  </header>

  <nav>
    <a href="accueil.html">Accueil</a>
    <a href="menu.html">Menu</a>
    <a href="contact.html">Contact</a>
  </nav>

  <!-- Compteur de visiteurs -->
  <div id="visitor-counter" style="
    text-align:center;
    font-size:28px;
    font-weight:bold;
    color:#fff;
    margin-top:15px;
    font-style:italic;
    animation: pulse 2s infinite;
  ">
    37 556,55 personnes ont déjà visité le site
  </div>

  <style>
  @keyframes pulse {
    0% { transform: scale(1); opacity: 0.9; }
    50% { transform: scale(1.05); opacity: 1; }
    100% { transform: scale(1); opacity: 0.9; }
  }
  </style>

  <script>
    const baseVisitors = 37556.55; // nombre initial
    const increasePer48min = 1000; // augmentation toutes les 48 minutes
    const siteLaunch = new Date("2025-09-19T00:00:00"); // date de départ du compteur

    function updateVisitorCounter() {
      const now = new Date();
      const minutesPassed = Math.floor((now - siteLaunch) / (1000 * 60));
      const periods = Math.floor(minutesPassed / 48);
      const currentVisitors = baseVisitors + periods * increasePer48min;
      const formattedVisitors = currentVisitors.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      document.getElementById('visitor-counter').textContent = formattedVisitors + " personnes ont déjà visité le site";
    }

    updateVisitorCounter();
    setInterval(updateVisitorCounter, 60 * 1000); // mise à jour toutes les minutes
  </script>

  <div id="restauration-text">Une équipe soudée</div>

  <!-- Logo chef cuisinier défilant -->
  <div class="chef-logo">
    <div class="slider">
      <div class="slides">
        <img src="https://media.licdn.com/dms/image/v2/D4D22AQFZ5qsoD6vRVg/feedshare-shrink_800/B4DZdp47tbGgAg-/0/1749828222651?e=2147483647&v=beta&t=LUivjNPyJrfKPSLJ4EdvTfbO8o0h7n2wOlM2vJxd8rE" alt="Chef cuisinier 1">
        <img src="https://img.freepik.com/photos-gratuite/portrait-chef-cuisinier-uniforme_23-2151739084.jpg" alt="Chef cuisinier 2">
        <img src="https://img.freepik.com/photos-gratuite/chef-cuisinier-professionnel_23-2148676940.jpg" alt="Chef cuisinier 3">
      </div>
    </div>
  </div>

  <style>
    .chef-logo { width:970px; height:8px; margin:auto; overflow:hidden; border-radius:5px; box-shadow:0 4px 12px rgba(0,0,0,0.2); }
    .slider { position: relative; width: 100%; height: 100%; }
    .slides { display:flex; width:300%; animation:slide 9s infinite; }
    .slides img { width:100%; height:auto; border-radius:15px; }
    @keyframes slide { 0%{transform:translateX(0%);} 33%{transform:translateX(-100%);} 66%{transform:translateX(-200%);} 100%{transform:translateX(0%);} }
  </style>

  <section class="gallery">
    <h2>Nos spécialités</h2>
    <div class="gallery-logos">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046796.png" alt="Poulet braisé">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046781.png" alt="Pizza">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046769.png" alt="Glace">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046756.png" alt="Café">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046771.png" alt="Gâteau">
    </div>
  </section>

  <!-- === FORMULAIRE (remplacé pour EmailJS) === -->

<section class="form-section">
  <h2>Réservez votre table</h2>

  <!-- Formulaire avec Formsubmit.co -->
  <form id="reservation-form" action="https://formsubmit.co/samanthagrusson@gmail.com" method="POST">
    <div class="form-grid">
      <div class="form-group">
        <label for="nom">Nom complet :</label>
        <input type="text" id="nom" name="nom" placeholder="Votre nom complet" required>
      </div>

      <div class="form-group">
        <label for="email">Email :</label>
        <input type="email" id="email" name="email" placeholder="exemple@domaine.com" required>
      </div>

      <div class="form-group">
        <label for="telephone">Téléphone :</label>
        <input type="tel" id="telephone" name="telephone" placeholder="+1 234 567 8900" required>
      </div>

      <div class="form-group">
        <label for="date">Date de réservation :</label>
        <input type="date" id="date" name="date" required>
      </div>

      <div class="form-group">
        <label for="heure">Heure :</label>
        <input type="time" id="heure" name="heure" required>
      </div>

      <div class="form-group">
        <label for="personnes">Nombre de personnes :</label>
        <select id="personnes" name="personnes" required>
          <option value="">Sélectionnez</option>
          <option value="1">1 personne</option>
          <option value="2">2 personnes</option>
          <option value="3">3 personnes</option>
          <option value="4">4 personnes</option>
          <option value="5+">5 personnes et plus</option>
        </select>
      </div>
    </div>

    <div class="form-submit">
      <input type="submit" id="submitBtn" value="Réserver">
    </div>
  </form>
</section>

<!-- Confirmation modal -->
<div id="confirmationOverlay" class="confirm-overlay" aria-hidden="true">
  <div class="confirm-box" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
    <h3 id="confirmTitle">Réservation reçue ✔️</h3>
    <p id="confirmMessage">
      Merci — nous avons bien reçu votre demande.<br>
      Notre équipe vérifiera la disponibilité et vous contactera très bientôt.<br>
      Merci de patienter ; pas besoin de renvoyer le formulaire.
    </p>
    <button id="confirmClose" class="confirm-close">OK</button>
  </div>
</div>

<script>
  const form = document.getElementById("reservation-form");
  const overlay = document.getElementById("confirmationOverlay");
  const closeBtn = document.getElementById("confirmClose");

  // Afficher le modal
  function showConfirmation() {
    overlay.style.display = "flex";
    overlay.setAttribute('aria-hidden', 'false');
  }

  // Masquer le modal
  function hideConfirmation() {
    overlay.style.display = "none";
    overlay.setAttribute('aria-hidden', 'true');
  }

  closeBtn.addEventListener("click", function() {
    hideConfirmation();
    location.reload(); // actualisation
  });

  form.addEventListener("submit", function(e) {
    e.preventDefault();

    const submitBtn = document.getElementById("submitBtn");
    submitBtn.disabled = true;
    submitBtn.style.opacity = "0.6";
    submitBtn.value = "Envoi en cours...";

    // Envoi via Formsubmit.co de manière discrète
    const formData = new FormData(form);
    fetch(form.action, {
      method: "POST",
      body: formData,
      headers: { 'Accept': 'application/json' }
    })
    .then(response => {
      if(response.ok) {
        showConfirmation();
        form.reset();
        setTimeout(() => {
          hideConfirmation();
          location.reload();
        }, 4000);
      } else {
        alert("Une erreur s'est produite. Merci de réessayer ou de nous contacter.");
        submitBtn.disabled = false;
        submitBtn.style.opacity = "1";
        submitBtn.value = "Réserver";
      }
    })
    .catch(err => {
      alert("Une erreur s'est produite. Merci de réessayer ou de nous contacter.");
      submitBtn.disabled = false;
      submitBtn.style.opacity = "1";
      submitBtn.value = "Réserver";
      console.error(err);
    });
  });
</script>


  <!-- Rest of scripts (titre animé, oiseau, phrases,...) -->
  <script>
    // Animation titre (inchangée)
    (function() {
      const title = document.getElementById('title');
      const text = title.textContent;
      title.textContent = '';
      for (let i = 0; i < text.length; i++) {
        let span = document.createElement('span');
        span.textContent = text[i];
        span.style.display = 'inline-block';
        span.style.transition = 'transform 0.3s ease';
        title.appendChild(span);
      }
      let offset = 0;
      function wave() {
        const letters = title.querySelectorAll('span');
        letters.forEach((letter, i) => {
          let y = Math.sin((i + offset) * 0.7) * 5;
          letter.style.transform = `translateY(${y}px)`;
        });
        offset += 0.15;
        requestAnimationFrame(wave);
      }
      wave();
    })();

    // Oiseau qui vole
    (function(){
      const bird = document.getElementById('bird');
      let birdPos = -100;
      const headerWidth = document.querySelector('header').offsetWidth;
      function flyBird() {
        birdPos += 2;
        if (birdPos > headerWidth + 100) birdPos = -100;
        bi
